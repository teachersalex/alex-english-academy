<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Acad√™mico - Teacher Alex</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body class="colorful-bg min-h-screen">

    <!-- Header -->
    <div class="portal-header">
        <div class="max-w-sm mx-auto px-4 sm:max-w-md md:max-w-lg lg:max-w-2xl xl:max-w-4xl sm:px-6 md:px-8">
            <div class="brand-title">TEACHER ALEX ENGLISH ACADEMY</div>
            <div class="welcome-message" id="welcomeMessage">Bem-vindo(a) de volta, Estudante</div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-sm mx-auto px-4 sm:max-w-md md:max-w-lg lg:max-w-2xl xl:max-w-4xl sm:px-6 md:px-8 py-6 space-y-6">
        
        <!-- Level & XP Card -->
        <div class="professional-card rounded-xl p-4 sm:p-5 md:p-6">
            <div class="text-center">
                <h2 id="levelDisplay" class="text-lg sm:text-xl md:text-2xl font-semibold text-charcoal mb-2">N√≠vel 1 ‚Ä¢ Beginner</h2>
                <div class="flex items-center justify-center space-x-4 sm:space-x-6 text-sm sm:text-base text-medium-gray mb-3">
                    <span id="xpDisplay">0 XP</span>
                    <span class="text-light-gray">‚Ä¢</span>
                    <span id="streakDisplay">Sequ√™ncia 0</span>
                </div>
                
                <!-- Lesson Progress Indicator -->
                <div class="progress-card rounded-lg p-3 mt-3">
                    <div class="flex justify-between text-xs sm:text-sm text-medium-gray mb-1">
                        <span>Progresso das Aulas</span>
                        <span id="lessonProgress">0/110</span>
                    </div>
                    <div class="w-full bg-light-gray rounded-full h-2">
                        <div id="lessonProgressBar" class="bg-foundation-primary h-2 rounded-full transition-all duration-500" style="width: 0%;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW: Animated Progress Dashboard -->
        <div class="professional-card rounded-xl p-4 sm:p-5 md:p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-100">
            <div class="text-center mb-4">
                <h3 class="text-xl sm:text-2xl font-bold text-charcoal mb-2">üìä Seu Progresso</h3>
                <p class="text-medium-gray text-sm sm:text-base">Veja como voc√™ est√° evoluindo em tempo real!</p>
            </div>
            
            <!-- Animated Stats Grid -->
            <div class="grid grid-cols-2 gap-3 sm:gap-4 md:gap-6">
                <!-- Total Completed -->
                <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border border-blue-100 hover:shadow-md transition-all duration-300">
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-blue-600 mb-1 counter-number" 
                             data-target="0" id="totalCompletedCounter">0</div>
                        <div class="text-xs sm:text-sm text-medium-gray font-medium">Li√ß√µes Completas</div>
                    </div>
                </div>
                
                <!-- Total XP -->
                <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border border-red-100 hover:shadow-md transition-all duration-300">
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-red-500 mb-1 counter-number" 
                             data-target="0" id="totalXPCounter">0</div>
                        <div class="text-xs sm:text-sm text-medium-gray font-medium">Total XP</div>
                    </div>
                </div>
                
                <!-- Current Level -->
                <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border border-purple-100 hover:shadow-md transition-all duration-300">
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-purple-600 mb-1 counter-number" 
                             data-target="1" id="currentLevelCounter">1</div>
                        <div class="text-xs sm:text-sm text-medium-gray font-medium">N√≠vel Atual</div>
                    </div>
                </div>
                
                <!-- Day Streak -->
                <div class="bg-white rounded-xl p-3 sm:p-4 shadow-sm border border-green-100 hover:shadow-md transition-all duration-300">
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-green-600 mb-1 counter-number" 
                             data-target="0" id="dayStreakCounter">0</div>
                        <div class="text-xs sm:text-sm text-medium-gray font-medium">Sequ√™ncia</div>
                    </div>
                </div>
            </div>

            <!-- Motivational Message -->
            <div class="mt-4 text-center">
                <p class="text-sm sm:text-base text-blue-600 font-medium" id="motivationalMessage">
                    üöÄ Continue estudando para ver estes n√∫meros crescerem!
                </p>
            </div>
        </div>

        <!-- Lesson Cards Section -->
        <div>
            <h2 class="text-lg sm:text-xl md:text-2xl font-semibold text-charcoal mb-4 sm:mb-5 md:mb-6">üéß Suas Aulas</h2>
            
            <div class="space-y-4 sm:space-y-5 md:space-y-6">
                
                <!-- Study English Hub Card (ENHANCED) -->
                <div class="lesson-card-enhanced">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg sm:text-xl font-bold text-white mb-1 sm:mb-2">üåü STUDY ENGLISH</h3>
                            <p class="text-sm sm:text-base text-blue-100 mb-3 sm:mb-4">110 li√ß√µes completas ‚Ä¢ 11 temas diferentes</p>
                            <div class="flex items-center gap-2 mb-3">
                                <div class="bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-semibold text-white">
                                    üéß Audio Lessons
                                </div>
                                <div class="bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-semibold text-white">
                                    üìà Progress Tracking
                                </div>
                            </div>
                        </div>
                        <div class="ml-4 text-3xl sm:text-4xl">üåü</div>
                    </div>
                    <a href="hub.html" class="btn-enhanced w-full sm:w-auto inline-block text-center font-bold py-3 px-6 rounded-lg text-sm sm:text-base no-underline">
                        üéØ EXPLORAR TEMAS
                    </a>
                </div>

                <!-- Lightning Quiz Hub Card (ENHANCED) -->
                <div class="lesson-card-lightning">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">‚ö° LIGHTNING QUIZ</h3>
                            <p class="text-sm sm:text-base text-yellow-100 mb-3 sm:mb-4">100 atividades ultra-r√°pidas ‚Ä¢ 10 temas viciantes</p>
                            <div class="flex items-center gap-2 mb-3">
                                <div class="bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-semibold text-white">
                                    üß† 15 segundos
                                </div>
                                <div class="bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-semibold text-white">
                                    ‚ö° True/False
                                </div>
                            </div>
                        </div>
                        <div class="ml-4 text-3xl sm:text-4xl">‚ö°</div>
                    </div>
                    <a href="../student-quiz/lightning-quiz-hub.html" class="btn-lightning w-full sm:w-auto inline-block text-center font-bold py-3 px-6 rounded-lg text-sm sm:text-base no-underline">
                        üöÄ EXPLORAR HUB
                    </a>
                </div>

                <!-- Original Exercises Card (Coming Soon) -->
                <div class="lesson-card-soon">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg sm:text-xl font-semibold text-medium-gray mb-1 sm:mb-2">üìù EXERC√çCIOS</h3>
                            <p class="text-sm sm:text-base text-medium-gray mb-3 sm:mb-4">Sistema de exerc√≠cios interativos completo</p>
                        </div>
                        <div class="ml-4 text-2xl sm:text-3xl text-light-gray">‚îÄ‚îÄ‚îÄ‚îÄ</div>
                    </div>
                    <button class="btn-disabled w-full sm:w-auto font-semibold py-3 px-6 rounded-lg text-sm sm:text-base cursor-not-allowed">
                        EM BREVE
                    </button>
                </div>

                <!-- Conversation Card (Coming Soon) -->
                <div class="lesson-card-soon">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg sm:text-xl font-semibold text-medium-gray mb-1 sm:mb-2">üó£Ô∏è CONVERSA√á√ÉO</h3>
                            <p class="text-sm sm:text-base text-medium-gray mb-3 sm:mb-4">Pr√°tica de conversa√ß√£o com IA</p>
                        </div>
                        <div class="ml-4 text-2xl sm:text-3xl text-light-gray">‚îÄ‚îÄ‚îÄ‚îÄ</div>
                    </div>
                    <button class="btn-disabled w-full sm:w-auto font-semibold py-3 px-6 rounded-lg text-sm sm:text-base cursor-not-allowed">
                        EM BREVE
                    </button>
                </div>

            </div>
        </div>

        <!-- Footer with Revolutionary Message -->
        <div class="revolutionary-footer">
            <p class="revolutionary-text">
                ‚ÑπÔ∏è Sua revolu√ß√£o no ingl√™s come√ßa aqui ‚Ä¢ Teacher Alex English Academy
            </p>
        </div>

        <!-- Logout (Discrete) -->
        <div class="text-center pb-4">
            <button id="logoutBtn" class="text-sm text-charcoal hover:text-medium-gray transition-colors">
                Sair
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        // Simple auth check - avoid DOM conflicts
        function getCurrentStudent() {
            const authData = localStorage.getItem('studentAuth');
            return authData ? JSON.parse(authData) : null;
        }

        function isStudentAuthenticated() {
            const currentStudent = getCurrentStudent();
            if (!currentStudent || !currentStudent.isAuthenticated) return false;
            
            const loginTime = new Date(currentStudent.loginTime);
            const now = new Date();
            const hoursDiff = (now - loginTime) / (1000 * 60 * 60);
            
            return hoursDiff < 24;
        }

        // 1000-Level System with Exponential XP Scaling
        function calculateLevelFromXP(totalXP) {
            if (totalXP < 100) return 1;
            
            // Exponential scaling: Level 2 = 100 XP, Level 3 = 250 XP, Level 4 = 450 XP, etc.
            let level = 1;
            let xpRequired = 0;
            
            while (totalXP >= xpRequired) {
                level++;
                xpRequired += (level - 1) * 150; // Exponential increase
                if (level > 1000) break;
            }
            
            return Math.min(level - 1, 1000);
        }

        function getLevelCategory(level) {
            if (level <= 50) return 'Beginner';
            if (level <= 150) return 'Elementary';
            if (level <= 400) return 'Intermediate';
            if (level <= 700) return 'Advanced';
            return 'Expert';
        }

        // ========================================================================
        // SMOOTH NUMBER ANIMATION SYSTEM
        // ========================================================================

        function animateNumber(element, finalValue, duration = 1500, formatFunction = null) {
            const startValue = 0;
            const startTime = Date.now();
            
            function updateNumber() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing function for smooth animation (ease-out)
                const easeOut = 1 - Math.pow(1 - progress, 3);
                
                const currentValue = Math.floor(startValue + (finalValue - startValue) * easeOut);
                
                if (formatFunction) {
                    element.textContent = formatFunction(currentValue);
                } else {
                    element.textContent = currentValue.toLocaleString('pt-BR');
                }
                
                if (progress < 1) {
                    requestAnimationFrame(updateNumber);
                } else {
                    // Ensure final value is set exactly
                    element.textContent = formatFunction ? formatFunction(finalValue) : finalValue.toLocaleString('pt-BR');
                    
                    // Add a subtle bounce effect when animation completes
                    element.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        element.style.transform = 'scale(1)';
                    }, 200);
                }
            }
            
            updateNumber();
        }

        function triggerCounterAnimations(data) {
            // Calculate total completed lessons across all themes
            const foundationCompleted = data.completedLessons || 0;
            
            // Calculate themed lesson completions
            let themedCompleted = 0;
            const themes = ['gaming', 'movies', 'food'];
            themes.forEach(theme => {
                const themeLessons = data[`${theme}Lessons`] || {};
                themedCompleted += Object.values(themeLessons).filter(lesson => lesson && lesson.status === 'completed').length;
            });
            
            const totalCompleted = foundationCompleted + themedCompleted;
            const totalXP = data.profile.totalXP || 0;
            const currentLevel = calculateLevelFromXP(totalXP);
            const currentStreak = data.profile.currentStreak || 0;
            
            // Animate each counter with slight delays for dramatic effect
            setTimeout(() => animateNumber(document.getElementById('totalCompletedCounter'), totalCompleted, 1200), 100);
            setTimeout(() => animateNumber(document.getElementById('totalXPCounter'), totalXP, 1400), 300);
            setTimeout(() => animateNumber(document.getElementById('currentLevelCounter'), currentLevel, 1000), 500);
            setTimeout(() => animateNumber(document.getElementById('dayStreakCounter'), currentStreak, 1100), 700);
            
            // Update motivational message based on progress
            const motivationalElement = document.getElementById('motivationalMessage');
            setTimeout(() => {
                if (totalCompleted === 0) {
                    motivationalElement.textContent = 'üåü Comece sua primeira li√ß√£o hoje!';
                } else if (totalCompleted < 5) {
                    motivationalElement.textContent = 'üöÄ √ìtimo come√ßo! Continue assim!';
                } else if (totalCompleted < 15) {
                    motivationalElement.textContent = 'üî• Voc√™ est√° no ritmo certo!';
                } else if (totalCompleted < 30) {
                    motivationalElement.textContent = '‚≠ê Progresso impressionante!';
                } else {
                    motivationalElement.textContent = 'üèÜ Voc√™ √© um verdadeiro English Master!';
                }
                
                // Add streak motivation if streak > 1
                if (currentStreak > 1) {
                    motivationalElement.textContent += ` ‚Ä¢ üî• ${currentStreak} dias seguidos!`;
                }
            }, 1000);
        }

        // Load REAL student data and update UI with ALL lesson progress
        async function loadStudentData() {
            try {
                const currentStudent = getCurrentStudent();
                if (!currentStudent) return;

                // Update welcome message
                const displayName = currentStudent.displayName || 'Estudante';
                document.getElementById('welcomeMessage').textContent = `Bem-vindo(a) de volta, ${displayName}`;

                // CRITICAL: Load real Firebase data from ALL lesson types
                try {
                    const { getStudentOverallProgress } = await import('../js/progress-sync.js');
                    const progressResult = await getStudentOverallProgress();
                    
                    if (progressResult.success) {
                        const data = progressResult;
                        
                        // Calculate level from REAL XP earned across ALL lessons
                        const realXP = data.profile.totalXP || 0;
                        const level = calculateLevelFromXP(realXP);
                        const category = getLevelCategory(level);
                        
                        // Update displays with REAL data
                        document.getElementById('levelDisplay').textContent = `N√≠vel ${level} ‚Ä¢ ${category}`;
                        document.getElementById('xpDisplay').textContent = `${realXP.toLocaleString('pt-BR')} XP`;
                        document.getElementById('streakDisplay').textContent = `Sequ√™ncia ${data.profile.currentStreak || 0}`;
                        
                        // Calculate TOTAL lesson progress across ALL themes
                        const foundationCompleted = data.completedLessons || 0;
                        
                        // Calculate themed lesson completions (when implemented)
                        let themedCompleted = 0;
                        const themes = ['gaming', 'movies', 'food'];
                        themes.forEach(theme => {
                            const themeLessons = data[`${theme}Lessons`] || {};
                            themedCompleted += Object.values(themeLessons).filter(lesson => lesson && lesson.status === 'completed').length;
                        });
                        
                        const totalCompleted = foundationCompleted + themedCompleted;
                        const totalLessons = 110; // 10 Foundation + 100 themed
                        const progressPercentage = (totalCompleted / totalLessons) * 100;
                        
                        document.getElementById('lessonProgress').textContent = `${totalCompleted}/${totalLessons}`;
                        document.getElementById('lessonProgressBar').style.width = `${progressPercentage}%`;
                        
                        // üé¨ TRIGGER SMOOTH ANIMATIONS!
                        triggerCounterAnimations(data);
                        
                        // Log comprehensive progress data
                        console.log(`üìä COMPLETE Student Progress Loaded with Animations:`);
                        console.log(`   ‚Üí Level: ${level} (${category})`);
                        console.log(`   ‚Üí XP: ${realXP} (earned from all lessons)`);
                        console.log(`   ‚Üí Foundation: ${foundationCompleted}/10 completed`);
                        console.log(`   ‚Üí Themed: ${themedCompleted}/100 completed`);
                        console.log(`   ‚Üí Total: ${totalCompleted}/110 completed (${Math.round(progressPercentage)}%)`);
                        console.log(`   ‚Üí Streak: ${data.profile.currentStreak || 0} days`);
                        
                        // Success indicator
                        showDataLoadSuccess();
                        
                    } else {
                        console.warn('‚ö†Ô∏è Could not load Firebase data, using defaults');
                        showDefaultData();
                    }
                    
                } catch (error) {
                    console.error('‚ùå Firebase connection failed:', error);
                    showDefaultData();
                }
                
            } catch (error) {
                console.error('‚ùå Error loading student data:', error);
                showDefaultData();
            }
        }

        // Show default data when Firebase unavailable
        function showDefaultData() {
            document.getElementById('levelDisplay').textContent = 'N√≠vel 1 ‚Ä¢ Beginner';
            document.getElementById('xpDisplay').textContent = '0 XP';
            document.getElementById('streakDisplay').textContent = 'Sequ√™ncia 0';
            document.getElementById('lessonProgress').textContent = '0/110';
            document.getElementById('lessonProgressBar').style.width = '0%';
            
            // Still animate default values for smooth experience
            setTimeout(() => {
                animateNumber(document.getElementById('totalCompletedCounter'), 0, 800);
                animateNumber(document.getElementById('totalXPCounter'), 0, 800);
                animateNumber(document.getElementById('currentLevelCounter'), 1, 800);
                animateNumber(document.getElementById('dayStreakCounter'), 0, 800);
            }, 500);
            
            console.log('üì¥ Using default data - Firebase unavailable');
        }

        // Visual indicator that real data loaded
        function showDataLoadSuccess() {
            // Add subtle success indicator
            const progressSection = document.querySelector('.professional-card');
            progressSection.style.border = '1px solid #10b981';
            setTimeout(() => {
                progressSection.style.border = '';
            }, 2000);
        }

        // Logout function
        async function handleLogout() {
            try {
                // Clean up session if possible
                const currentStudent = getCurrentStudent();
                if (currentStudent) {
                    try {
                        const { endCurrentSession } = await import('../js/progress-sync.js');
                        await endCurrentSession();
                    } catch (error) {
                        console.log('Session cleanup skipped:', error);
                    }
                }
                
                // Clear authentication
                localStorage.removeItem('studentAuth');
                localStorage.removeItem('studentLoggedIn');
                localStorage.removeItem('studentUsername');
                
                // Redirect to login
                window.location.href = '../index.html';
                
            } catch (error) {
                console.error('Logout error:', error);
                // Force redirect even if cleanup fails
                window.location.href = '../index.html';
            }
        }

        // Session protection
        if (!isStudentAuthenticated()) {
            window.location.href = '../index.html';
        }

        // Event listeners
        document.getElementById('logoutBtn').addEventListener('click', handleLogout);

        // Initialize with data refresh capabilities
        document.addEventListener('DOMContentLoaded', () => {
            loadStudentData();
            
            // Refresh data when returning from lessons/hub
            window.addEventListener('focus', () => {
                console.log('üîÑ Page focused - refreshing student data with animations...');
                loadStudentData();
            });
            
            // Periodic refresh every 30 seconds
            setInterval(() => {
                loadStudentData();
            }, 30000);
            
            console.log('üöÄ Portal Design Loaded with ANIMATED PROGRESS DASHBOARD!');
            console.log('‚ö° Lightning Quiz test link added - ready for addiction testing!');
            console.log('üì± Responsive: ' + window.innerWidth + 'px');
            console.log('üé¨ Smooth animations enabled for dopamine boost!');
        });
    </script>

    <!-- Universal Theme Styles for Portal + Animation Styles -->
    <style>
        /* Universal Theme Variables */
        :root {
            --foundation-primary: #3b82f6;
            --foundation-secondary: #1d4ed8;
            --foundation-light: #93c5fd;
            --foundation-dark: #1e40af;
            
            --primary-blue: #3b82f6;
            --secondary-blue: #1e40af;
            --accent-red: #ef4444;
            --success-green: #10b981;
            --error-red: #f87171;
            --warning-orange: #f59e0b;
            
            --charcoal: #1f2937;
            --medium-gray: #6b7280;
            --light-gray: #e5e7eb;
            --soft-border: #d1d5db;
            
            --bg-primary: #f8fafc;
            --bg-secondary: #e2e8f0;
            --bg-card: #ffffff;
            --bg-accent: #dbeafe;
            --bg-subtle: #f8fafc;
            
            --alex-blue: #3b82f6;
            --academy-red: #ef4444;
            --powder-blue: #dbeafe;
        }

        /* Clean Background - Light Gray for Desktop */
        .colorful-bg {
            background: #f1f5f9;
            min-height: 100vh;
        }

        /* Mobile can keep subtle gradient */
        @media (max-width: 768px) {
            .colorful-bg {
                background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
                background-attachment: fixed;
            }
        }

        /* SMOOTH ANIMATION STYLES */
        .counter-number {
            transition: transform 0.2s ease;
            display: inline-block;
        }

        .counter-number:hover {
            transform: scale(1.05);
        }

        /* Breathing animation for progress cards */
        .professional-card {
            animation: subtleBreath 4s ease-in-out infinite;
        }

        @keyframes subtleBreath {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15); 
            }
            50% { 
                transform: scale(1.002); 
                box-shadow: 0 10px 30px rgba(59, 130, 246, 0.18); 
            }
        }

        /* Pulse effect for high numbers */
        .high-achievement {
            animation: achievementPulse 0.6s ease-in-out;
        }

        @keyframes achievementPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .portal-header {
            background: linear-gradient(135deg, var(--foundation-primary), var(--foundation-secondary));
            text-align: center;
            padding: 2rem 1rem;
            border-bottom: 2px solid var(--foundation-dark);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .brand-title {
            font-size: 1.25rem;
            font-weight: 800;
            color: white;
            letter-spacing: 0.5px;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .welcome-message {
            font-size: 1rem;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 0.5rem;
        }

        /* Professional Card */
        .professional-card {
            background: var(--bg-card);
            border: 2px solid var(--bg-accent);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
            transition: all 0.3s ease;
        }

        .progress-card {
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-accent));
            border: 2px solid var(--foundation-light);
        }

        .revolutionary-footer {
            text-align: center;
            padding: 2rem 1rem;
            background: linear-gradient(135deg, var(--bg-accent), var(--bg-secondary));
            border: 2px solid var(--foundation-light);
            border-radius: 1rem;
            margin: 1.5rem 0;
        }

        .revolutionary-text {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--foundation-dark);
            margin: 0;
            text-align: center;
        }

        /* Responsive brand scaling */
        @media (min-width: 640px) {
            .brand-title {
                font-size: 1.5rem;
                letter-spacing: 1px;
            }
            
            .welcome-message {
                font-size: 1.125rem;
            }
            
            .revolutionary-text {
                font-size: 1rem;
            }
        }

        @media (min-width: 768px) {
            .brand-title {
                font-size: 1.75rem;
                letter-spacing: 1.5px;
            }
            
            .welcome-message {
                font-size: 1.25rem;
            }
        }

        @media (min-width: 1024px) {
            .brand-title {
                font-size: 2rem;
                letter-spacing: 2px;
            }
            
            .welcome-message {
                font-size: 1.375rem;
            }
            
            .revolutionary-text {
                font-size: 1.125rem;
            }
        }

        /* Enhanced Card Styles */
        .lesson-card-enhanced {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            border: 2px solid #1e40af;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lesson-card-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s ease;
        }

        .lesson-card-enhanced:hover::before {
            left: 100%;
        }

        .lesson-card-enhanced:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(59, 130, 246, 0.35), 0 0 0 1px rgba(255, 255, 255, 0.2);
        }

        .lesson-card-lightning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #ea580c 100%);
            border: 2px solid #d97706;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lesson-card-lightning::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
            transition: left 0.5s ease;
        }

        .lesson-card-lightning:hover::before {
            left: 100%;
        }

        .lesson-card-lightning:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(245, 158, 11, 0.35), 0 0 0 1px rgba(255, 255, 255, 0.2);
        }

        .btn-enhanced {
            background: rgba(255, 255, 255, 0.95);
            color: #1e40af;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-enhanced:hover {
            background: white;
            transform: translateY(-1px);
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            color: #1e40af;
        }

        .btn-lightning {
            background: rgba(255, 255, 255, 0.95);
            color: #d97706;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-lightning:hover {
            background: white;
            transform: translateY(-1px);
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            color: #d97706;
        }

        .lesson-card-soon {
            background: var(--bg-secondary);
            border: 2px solid var(--light-gray);
            border-radius: 0.75rem;
            padding: 1.5rem;
            opacity: 0.7;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-red), #dc2626);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-1px);
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--primary-blue), #2563eb);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-1px);
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }

        .btn-disabled {
            background: var(--light-gray);
            color: #9ca3af;
        }

        .bg-foundation-primary {
            background-color: var(--foundation-primary);
        }

        .text-charcoal { color: var(--charcoal); }
        .text-medium-gray { color: var(--medium-gray); }
        .text-light-gray { color: var(--light-gray); }

        @media (max-width: 640px) {
            .portal-header {
                padding: 1rem 0.75rem;
            }
            
            .lesson-card-active,
            .lesson-card-soon {
                padding: 1.25rem;
            }
        }
    </style>

</body>
</html>
